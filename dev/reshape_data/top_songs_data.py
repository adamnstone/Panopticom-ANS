import requests, os, pickle
from bs4 import BeautifulSoup
from transformers import pipeline
import pandas as pd
import matplotlib.pyplot as plt
import lyricsgenius

OPENAI_SECRET_KEY = os.environ.get("OPENAI_SECRET_KEY")
import openai 
  
openai.api_key = OPENAI_SECRET_KEY

GENIUS_CLIENT_ID = os.environ.get("GENIUS_CLIENT_ID")
GENIUS_CLIENT_SECRET = os.environ.get("GENIUS_CLIENT_SECRET")
GENIUS_ACCESS_TOKEN = os.environ.get("GENIUS_ACCESS_TOKEN")
GENIUS_API_TOKEN = GENIUS_ACCESS_TOKEN

genius = lyricsgenius.Genius(GENIUS_ACCESS_TOKEN, remove_section_headers=True, skip_non_songs=True)

song_charts = {
    "Argentina": "https://www.billboard.com/charts/billboard-argentina-hot-100/",
    "Brasil": "https://www.billboard.com/charts/billboard-brasil-hot-100/",
    "Canada": "https://www.billboard.com/charts/canadian-hot-100/",
    "Italy": "https://www.billboard.com/charts/billboard-italy-hot-100/",
    "Japan": "https://www.billboard.com/charts/japan-hot-100/",
    "Thailand": "https://www.billboard.com/charts/billboard-thailand-top-thai-songs/",
    "UK": "https://www.billboard.com/charts/official-uk-songs/",
    "Australia": "https://www.billboard.com/charts/australia-songs-hotw/",
    "Austria": "https://www.billboard.com/charts/austria-songs-hotw/",
    "Belgium": "https://www.billboard.com/charts/belgium-songs-hotw/",
    "Bolivia": "https://www.billboard.com/charts/bolivia-songs-hotw/",
    "Chile": "https://www.billboard.com/charts/chile-songs-hotw/",
    "China": "https://www.billboard.com/charts/china-tme-uni-songs/",
    "Colombia": "https://www.billboard.com/charts/colombia-songs-hotw/",
    "Croatia": "https://www.billboard.com/charts/croatia-songs-hotw/",
    "Czech Republic": "https://www.billboard.com/charts/czech-republic-songs-hotw/",
    "Denmark": "https://www.billboard.com/charts/denmark-songs-hotw/",
    "Ecuador": "https://www.billboard.com/charts/ecuador-songs-hotw/",
    "Finland": "https://www.billboard.com/charts/finland-songs-hotw/",
    "France": "https://www.billboard.com/charts/france-songs-hotw/",
    "Germany": "https://www.billboard.com/charts/germany-songs-hotw/",
    "Greece": "https://www.billboard.com/charts/greece-songs-hotw/",
    "Hong Kong": "https://www.billboard.com/charts/hong-kong-songs-hotw/",
    "Hungary": "https://www.billboard.com/charts/hungary-songs-hotw/",
    "Iceland": "https://www.billboard.com/charts/iceland-songs-hotw/",
    "India": "https://www.billboard.com/charts/india-songs-hotw/",
    "Indonesia": "https://www.billboard.com/charts/indonesia-songs-hotw/",
    "Ireland": "https://www.billboard.com/charts/ireland-songs-hotw/",
    "Luxembourg": "https://www.billboard.com/charts/luxembourg-songs-hotw/",
    "Malaysia": "https://www.billboard.com/charts/malaysia-songs-hotw/",
    "Mexico": "https://www.billboard.com/charts/mexico-songs-hotw/",
    "Netherlands": "https://www.billboard.com/charts/netherlands-songs-hotw/",
    "New Zealand": "https://www.billboard.com/charts/new-zealand-songs-hotw/",
    "Norway": "https://www.billboard.com/charts/norway-songs-hotw/",
    "Peru": "https://www.billboard.com/charts/peru-songs-hotw/",
    "Poland": "https://www.billboard.com/charts/poland-songs-hotw/",
    "Romania": "https://www.billboard.com/charts/romania-songs-hotw/",
    "Portugal": "https://www.billboard.com/charts/portugal-songs-hotw/",
    "Singapore": "https://www.billboard.com/charts/singapore-songs-hotw/",
    "Slovakia": "https://www.billboard.com/charts/slovakia-songs-hotw/",
    "South Africa": "https://www.billboard.com/charts/south-africa-songs-hotw/",
    "South Korea": "https://www.billboard.com/charts/south-korea-songs-hotw/",
    "Spain": "https://www.billboard.com/charts/spain-songs-hotw/",
    "Sweden": "https://www.billboard.com/charts/sweden-songs-hotw/",
    "Switzerland": "https://www.billboard.com/charts/switzerland-songs-hotw/",
    "Taiwan": "https://www.billboard.com/charts/taiwan-songs-hotw/",
    "Turkey": "https://www.billboard.com/charts/turkey-songs-hotw/",
    "Saudi Arabia": "https://www.billboard.com/charts/the-arabic-hot-100/",
    "United States": "https://www.billboard.com/charts/hot-100/"
}

def get_top_songs(chart_link):
    url = chart_link
    response = requests.get(url)
    soup = BeautifulSoup(response.text, 'html.parser')
    songs = []
    artists = []
    for e in soup.find_all(attrs={'class':'o-chart-results-list-row-container'}):
        songs.append(e.h3.get_text(strip=True))
        artists.append(e.find_all("span")[1].get_text(strip=True))
    return list(zip(songs, artists))

def get_lyrics(song_title, artist_name):
    pass
    """
    fp = f"lyrics_data/lyrics_{song_title}_{artist_name}.obj"
    if os.path.exists(fp):
        with open(fp, "rb") as file:
            print(pickle.load(file))
            return pickle.load(file)
    else:
        song = genius.search_song(song_title, artist_name)
        with open(fp, "wb") as file:
            pickle.dump(song.lyrics, file)
        return song.lyrics
    """

def analyze_lyrics(lyrics):
    pass
    """
    sentiment_pipeline = pipeline("text-classification", model="j-hartmann/emotion-english-distilroberta-base")
    sentiments = sentiment_pipeline(lyrics, )
    print("\n\n\n", sentiments, "\n\n\n")
    return sentiments
    """

gpt_save_count = 0
def get_narrative(top_songs, country):
    global gpt_save_count
    if os.path.exists(f"gpt_data/n{gpt_save_count}.obj"):
        with open(f"gpt_data/n{gpt_save_count}.obj", "rb") as file:
            gpt_save_count += 1
            return pickle.load(file)
    songs_str = f"Country: {country}\n"
    i = 0
    for song, artist in top_songs:
        i += 1
        songs_str += f"#{i}: \"{song}\" by {artist}\n"

    messages = [ {"role": "system", "content":  
              "I will provide a list of the top Billboard songs for a country. Your job is to provide a 6-10 sentence summary of the emotions, sentiments, and themes expressed in these top songs, provide a score of the positivity of the songs on a scale of 1 to 10, and provide one color for the country based on the songs' emotions. Be specific in your summary. Format your response in a JSON format as follows: {\"summary\": \"(6-10 sentence summary goes here)\", \"positivity\": 4, \"color\": \"rgb(100,255,25)\"}. This JSON should be the only output you give."} ]
    messages.append( 
        {"role": "user", "content": songs_str}, 
    ) 
    chat = openai.ChatCompletion.create( 
        model="gpt-3.5-turbo", messages=messages 
    ) 
    reply = chat.choices[0].message.content
    
    with open(f"gpt_data/n{gpt_save_count}.obj", "wb") as file:
        pickle.dump(reply, file)
    gpt_save_count += 1
    return reply

def main():
    song_chart_keys = list(song_charts.keys())
    country_links = [song_charts[key] for key in song_chart_keys]
    #all_sentiments = []

    final_data = []

    for country in country_links:
        country_name = song_chart_keys[country_links.index(country)]
        final_data.append([country_name, country])
        top_songs = get_top_songs(country)[:3]
        final_data[-1].append(get_narrative(top_songs, country_name))
        print("Narrative", final_data[-1][-1])
        for song, artist in top_songs:
            break
            final_data[-1].append((song, artist))
            try:
                pass
                #lyrics = get_lyrics(song, artist)
                #sentiments = analyze_lyrics(lyrics)
                #final_data[-1].append(sentiments)
            except Exception as e:
                print(f"Error processing {song} by {artist}: {e}")
    
    with open("final_data_songs_gpt.obj", "wb") as file:
        pickle.dump(final_data, file)


if __name__ == "__main__":
    main()

#sentiment_results = [{'label': 'NEGATIVE', 'score': 0.9161927103996277}, {'label': 'NEGATIVE', 'score': 0.9930638670921326}, {'label': 'NEGATIVE', 'score': 0.9956022500991821}, {'label': 'NEGATIVE', 'score': 0.9955267310142517}, {'label': 'NEGATIVE', 'score': 0.9931254386901855}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9962698221206665}, {'label': 'NEGATIVE', 'score': 0.9971713423728943}, {'label': 'NEGATIVE', 'score': 0.9963189363479614}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9971115589141846}, {'label': 'NEGATIVE', 'score': 0.9926285743713379}, {'label': 'NEGATIVE', 'score': 0.9947274327278137}, {'label': 'NEGATIVE', 'score': 0.9965226650238037}, {'label': 'NEGATIVE', 'score': 0.9953988194465637}, {'label': 'NEGATIVE', 'score': 0.9908220767974854}, {'label': 'NEGATIVE', 'score': 0.9785029292106628}, {'label': 'NEGATIVE', 'score': 0.9962183833122253}, {'label': 'NEGATIVE', 'score': 0.9896106719970703}, {'label': 'NEGATIVE', 'score': 0.9929678440093994}, {'label': 'NEGATIVE', 'score': 0.9926196932792664}, {'label': 'NEGATIVE', 'score': 0.996591329574585}, {'label': 'NEGATIVE', 'score': 0.9932308197021484}, {'label': 'NEGATIVE', 'score': 0.9931491017341614}, {'label': 'NEGATIVE', 'score': 0.9927914142608643}, {'label': 'NEGATIVE', 'score': 0.9940527081489563}, {'label': 'NEGATIVE', 'score': 0.993627667427063}, {'label': 'NEGATIVE', 'score': 0.9970842003822327}, {'label': 'NEGATIVE', 'score': 0.9970459342002869}, {'label': 'NEGATIVE', 'score': 0.9954954385757446}, {'label': 'NEGATIVE', 'score': 0.9946601986885071}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9902940988540649}, {'label': 'NEGATIVE', 'score': 0.9939042925834656}, {'label': 'NEGATIVE', 'score': 0.9974833130836487}, {'label': 'NEGATIVE', 'score': 0.9957588315010071}, {'label': 'NEGATIVE', 'score': 0.9974349141120911}, {'label': 'NEGATIVE', 'score': 0.9947689771652222}, {'label': 'NEGATIVE', 'score': 0.9924898743629456}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9943398833274841}, {'label': 'NEGATIVE', 'score': 0.9983116388320923}, {'label': 'NEGATIVE', 'score': 0.9964826107025146}, {'label': 'NEGATIVE', 'score': 0.9960307478904724}, {'label': 'NEGATIVE', 'score': 0.9891971945762634}, {'label': 'NEGATIVE', 'score': 0.9924415349960327}, {'label': 'NEGATIVE', 'score': 0.9905527830123901}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'NEGATIVE', 'score': 0.9635266065597534}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9915714263916016}, {'label': 'NEGATIVE', 'score': 0.9947716593742371}, {'label': 'NEGATIVE', 'score': 0.9892686009407043}, {'label': 'NEGATIVE', 'score': 0.9970302581787109}, {'label': 'NEGATIVE', 'score': 0.991196870803833}, {'label': 'POSITIVE', 'score': 0.940138041973114}, {'label': 'NEGATIVE', 'score': 0.9906561970710754}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.9995150566101074}, {'label': 'POSITIVE', 'score': 0.7438721656799316}, {'label': 'NEGATIVE', 'score': 0.9963800311088562}, {'label': 'NEGATIVE', 'score': 0.9852342009544373}, {'label': 'NEGATIVE', 'score': 0.9847656488418579}, {'label': 'NEGATIVE', 'score': 0.9869394302368164}, {'label': 'POSITIVE', 'score': 0.9451143145561218}, {'label': 'NEGATIVE', 'score': 0.9979875087738037}, {'label': 'NEGATIVE', 'score': 0.9964459538459778}, {'label': 'NEGATIVE', 'score': 0.9980588555335999}, {'label': 'NEGATIVE', 'score': 0.9962917566299438}, {'label': 'NEGATIVE', 'score': 0.9991872906684875}, {'label': 'NEGATIVE', 'score': 0.9969661831855774}, {'label': 'NEGATIVE', 'score': 0.9851543307304382}, {'label': 'NEGATIVE', 'score': 0.9844733476638794}, {'label': 'NEGATIVE', 'score': 0.9328917264938354}, {'label': 'NEGATIVE', 'score': 0.9337369799613953}, {'label': 'NEGATIVE', 'score': 0.9867384433746338}, {'label': 'POSITIVE', 'score': 0.9862614274024963}, {'label': 'NEGATIVE', 'score': 0.9934137463569641}, {'label': 'NEGATIVE', 'score': 0.9814110398292542}, {'label': 'NEGATIVE', 'score': 0.9920833110809326}, {'label': 'NEGATIVE', 'score': 0.9992257356643677}, {'label': 'NEGATIVE', 'score': 0.955885648727417}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9906657934188843}, {'label': 'NEGATIVE', 'score': 0.9934090375900269}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.997141420841217}, {'label': 'NEGATIVE', 'score': 0.9956964254379272}, {'label': 'NEGATIVE', 'score': 0.9886896014213562}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.9923062920570374}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9971164464950562}, {'label': 'NEGATIVE', 'score': 0.9933987855911255}, {'label': 'NEGATIVE', 'score': 0.9969269633293152}, {'label': 'NEGATIVE', 'score': 0.9950474500656128}, {'label': 'NEGATIVE', 'score': 0.9892270565032959}, {'label': 'NEGATIVE', 'score': 0.9977304339408875}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'NEGATIVE', 'score': 0.9670836329460144}, {'label': 'NEGATIVE', 'score': 0.9967716336250305}, {'label': 'POSITIVE', 'score': 0.9714715480804443}, {'label': 'NEGATIVE', 'score': 0.9109108448028564}, {'label': 'NEGATIVE', 'score': 0.9721082448959351}, {'label': 'NEGATIVE', 'score': 0.9812486171722412}, {'label': 'NEGATIVE', 'score': 0.9655391573905945}, {'label': 'NEGATIVE', 'score': 0.9804189801216125}, {'label': 'NEGATIVE', 'score': 0.9823253750801086}, {'label': 'NEGATIVE', 'score': 0.9768779277801514}, {'label': 'NEGATIVE', 'score': 0.9877572059631348}, {'label': 'NEGATIVE', 'score': 0.9832187294960022}, {'label': 'POSITIVE', 'score': 0.9915019273757935}, {'label': 'NEGATIVE', 'score': 0.9825795888900757}, {'label': 'NEGATIVE', 'score': 0.9816126227378845}, {'label': 'NEGATIVE', 'score': 0.9808775186538696}, {'label': 'NEGATIVE', 'score': 0.9736018180847168}, {'label': 'NEGATIVE', 'score': 0.9690635800361633}, {'label': 'POSITIVE', 'score': 0.9107967019081116}, {'label': 'NEGATIVE', 'score': 0.9837709665298462}, {'label': 'NEGATIVE', 'score': 0.9844651818275452}, {'label': 'NEGATIVE', 'score': 0.9757038354873657}, {'label': 'NEGATIVE', 'score': 0.9860779047012329}, {'label': 'NEGATIVE', 'score': 0.9977039694786072}, {'label': 'NEGATIVE', 'score': 0.981743574142456}, {'label': 'NEGATIVE', 'score': 0.9816702604293823}, {'label': 'NEGATIVE', 'score': 0.9658148288726807}, {'label': 'NEGATIVE', 'score': 0.9872315526008606}, {'label': 'NEGATIVE', 'score': 0.9952813982963562}, {'label': 'NEGATIVE', 'score': 0.9857879877090454}, {'label': 'NEGATIVE', 'score': 0.9697794914245605}, {'label': 'POSITIVE', 'score': 0.997607946395874}, {'label': 'NEGATIVE', 'score': 0.9793325662612915}, {'label': 'NEGATIVE', 'score': 0.9750059247016907}, {'label': 'NEGATIVE', 'score': 0.994931161403656}, {'label': 'NEGATIVE', 'score': 0.5868439674377441}, {'label': 'NEGATIVE', 'score': 0.9970537424087524}, {'label': 'NEGATIVE', 'score': 0.9913350939750671}, {'label': 'NEGATIVE', 'score': 0.9971465468406677}, {'label': 'NEGATIVE', 'score': 0.9660508632659912}, {'label': 'NEGATIVE', 'score': 0.9869183897972107}, {'label': 'NEGATIVE', 'score': 0.909801185131073}, {'label': 'NEGATIVE', 'score': 0.9751396775245667}, {'label': 'NEGATIVE', 'score': 0.9794338345527649}, {'label': 'NEGATIVE', 'score': 0.9372166991233826}, {'label': 'POSITIVE', 'score': 0.8228448033332825}, {'label': 'NEGATIVE', 'score': 0.989941418170929}, {'label': 'POSITIVE', 'score': 0.9945196509361267}, {'label': 'NEGATIVE', 'score': 0.7752382159233093}, {'label': 'NEGATIVE', 'score': 0.8065693974494934}, {'label': 'NEGATIVE', 'score': 0.9989005327224731}, {'label': 'NEGATIVE', 'score': 0.9452147483825684}, {'label': 'NEGATIVE', 'score': 0.998939573764801}, {'label': 'NEGATIVE', 'score': 0.9607934355735779}, {'label': 'NEGATIVE', 'score': 0.8841474652290344}, {'label': 'NEGATIVE', 'score': 0.9456105828285217}, {'label': 'NEGATIVE', 'score': 0.998187243938446}, {'label': 'POSITIVE', 'score': 0.8584951162338257}, {'label': 'NEGATIVE', 'score': 0.9987878203392029}, {'label': 'NEGATIVE', 'score': 0.8264888525009155}, {'label': 'NEGATIVE', 'score': 0.9955660700798035}, {'label': 'POSITIVE', 'score': 0.9983505010604858}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'NEGATIVE', 'score': 0.991196870803833}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'NEGATIVE', 'score': 0.9635266065597534}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'NEGATIVE', 'score': 0.9906561970710754}, {'label': 'POSITIVE', 'score': 0.7438721656799316}, {'label': 'NEGATIVE', 'score': 0.9915714263916016}, {'label': 'NEGATIVE', 'score': 0.9963800311088562}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.5193806886672974}, {'label': 'NEGATIVE', 'score': 0.9852342009544373}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.5193806886672974}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9852342009544373}, {'label': 'NEGATIVE', 'score': 0.998760461807251}, {'label': 'NEGATIVE', 'score': 0.9957044720649719}, {'label': 'NEGATIVE', 'score': 0.9956022500991821}, {'label': 'NEGATIVE', 'score': 0.9930638670921326}, {'label': 'NEGATIVE', 'score': 0.9911705255508423}, {'label': 'NEGATIVE', 'score': 0.9963189363479614}, {'label': 'NEGATIVE', 'score': 0.992836058139801}, {'label': 'NEGATIVE', 'score': 0.9949849843978882}, {'label': 'NEGATIVE', 'score': 0.9980973601341248}, {'label': 'NEGATIVE', 'score': 0.9687085151672363}, {'label': 'NEGATIVE', 'score': 0.9715418219566345}, {'label': 'NEGATIVE', 'score': 0.9788636565208435}, {'label': 'NEGATIVE', 'score': 0.9985502362251282}, {'label': 'NEGATIVE', 'score': 0.9657592177391052}, {'label': 'NEGATIVE', 'score': 0.9529511332511902}, {'label': 'NEGATIVE', 'score': 0.9878714084625244}, {'label': 'NEGATIVE', 'score': 0.9973739385604858}, {'label': 'NEGATIVE', 'score': 0.9893820285797119}, {'label': 'NEGATIVE', 'score': 0.8946278095245361}, {'label': 'NEGATIVE', 'score': 0.968494713306427}, {'label': 'NEGATIVE', 'score': 0.9962600469589233}, {'label': 'NEGATIVE', 'score': 0.9973739385604858}, {'label': 'NEGATIVE', 'score': 0.9928781390190125}, {'label': 'NEGATIVE', 'score': 0.995717465877533}, {'label': 'NEGATIVE', 'score': 0.995636522769928}, {'label': 'NEGATIVE', 'score': 0.9265270233154297}, {'label': 'NEGATIVE', 'score': 0.9867660999298096}, {'label': 'NEGATIVE', 'score': 0.9942184686660767}, {'label': 'NEGATIVE', 'score': 0.9928182363510132}, {'label': 'NEGATIVE', 'score': 0.9911705255508423}, {'label': 'NEGATIVE', 'score': 0.9959291815757751}, {'label': 'NEGATIVE', 'score': 0.9939701557159424}, {'label': 'NEGATIVE', 'score': 0.9963189363479614}, {'label': 'NEGATIVE', 'score': 0.9953422546386719}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9856958985328674}, {'label': 'NEGATIVE', 'score': 0.9985538125038147}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9985509514808655}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'POSITIVE', 'score': 0.9981279969215393}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.9988747239112854}, {'label': 'NEGATIVE', 'score': 0.9969821572303772}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'POSITIVE', 'score': 0.667884111404419}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9911705255508423}, {'label': 'NEGATIVE', 'score': 0.9963189363479614}, {'label': 'NEGATIVE', 'score': 0.9939701557159424}, {'label': 'NEGATIVE', 'score': 0.9959291815757751}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9944536089897156}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.994756817817688}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9433861970901489}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9961968660354614}, {'label': 'NEGATIVE', 'score': 0.8340414762496948}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9971862435340881}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.5193806886672974}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.9969269633293152}, {'label': 'POSITIVE', 'score': 0.9949540495872498}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'NEGATIVE', 'score': 0.9976025223731995}, {'label': 'NEGATIVE', 'score': 0.9676845669746399}, {'label': 'NEGATIVE', 'score': 0.9932831525802612}, {'label': 'NEGATIVE', 'score': 0.9665597677230835}, {'label': 'NEGATIVE', 'score': 0.9729793071746826}, {'label': 'NEGATIVE', 'score': 0.9823480844497681}, {'label': 'NEGATIVE', 'score': 0.9665597677230835}, {'label': 'NEGATIVE', 'score': 0.9963250756263733}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9982031583786011}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.9961968660354614}, {'label': 'NEGATIVE', 'score': 0.9964847564697266}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9914931654930115}, {'label': 'NEGATIVE', 'score': 0.9453259706497192}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9973913431167603}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.884817898273468}, {'label': 'NEGATIVE', 'score': 0.9822774529457092}, {'label': 'POSITIVE', 'score': 0.5329098701477051}, {'label': 'NEGATIVE', 'score': 0.9915714263916016}, {'label': 'NEGATIVE', 'score': 0.998600423336029}, {'label': 'NEGATIVE', 'score': 0.9906561970710754}, {'label': 'NEGATIVE', 'score': 0.9976961016654968}, {'label': 'NEGATIVE', 'score': 0.9971147775650024}, {'label': 'NEGATIVE', 'score': 0.9962245225906372}, {'label': 'NEGATIVE', 'score': 0.9979606866836548}, {'label': 'NEGATIVE', 'score': 0.9995150566101074}, {'label': 'NEGATIVE', 'score': 0.9956450462341309}, {'label': 'NEGATIVE', 'score': 0.9959803819656372}, {'label': 'POSITIVE', 'score': 0.9895817041397095}, {'label': 'NEGATIVE', 'score': 0.9974811673164368}, {'label': 'NEGATIVE', 'score': 0.9972067475318909}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'NEGATIVE', 'score': 0.9635266065597534}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.9963800311088562}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.991196870803833}, {'label': 'NEGATIVE', 'score': 0.9915714263916016}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'POSITIVE', 'score': 0.9767084717750549}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.7904432415962219}, {'label': 'NEGATIVE', 'score': 0.9971862435340881}, {'label': 'NEGATIVE', 'score': 0.5193806886672974}, {'label': 'NEGATIVE', 'score': 0.9852342009544373}, {'label': 'POSITIVE', 'score': 0.5329098701477051}, {'label': 'NEGATIVE', 'score': 0.9979392886161804}, {'label': 'NEGATIVE', 'score': 0.9915714263916016}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9906561970710754}, {'label': 'POSITIVE', 'score': 0.9895817041397095}, {'label': 'NEGATIVE', 'score': 0.9971147775650024}, {'label': 'NEGATIVE', 'score': 0.9995150566101074}, {'label': 'POSITIVE', 'score': 0.9887265563011169}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.9979606866836548}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9957418441772461}, {'label': 'NEGATIVE', 'score': 0.9880937933921814}, {'label': 'NEGATIVE', 'score': 0.9960379600524902}, {'label': 'NEGATIVE', 'score': 0.9949447512626648}, {'label': 'NEGATIVE', 'score': 0.9930920600891113}, {'label': 'NEGATIVE', 'score': 0.9939701557159424}, {'label': 'NEGATIVE', 'score': 0.997584342956543}, {'label': 'NEGATIVE', 'score': 0.992836058139801}, {'label': 'NEGATIVE', 'score': 0.9939275979995728}, {'label': 'NEGATIVE', 'score': 0.9959291815757751}, {'label': 'NEGATIVE', 'score': 0.9974244832992554}, {'label': 'NEGATIVE', 'score': 0.9925455451011658}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.5193806886672974}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'NEGATIVE', 'score': 0.8166347742080688}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'POSITIVE', 'score': 0.7438721656799316}, {'label': 'NEGATIVE', 'score': 0.991196870803833}, {'label': 'NEGATIVE', 'score': 0.9915714263916016}, {'label': 'NEGATIVE', 'score': 0.9995150566101074}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'POSITIVE', 'score': 0.9969025254249573}, {'label': 'NEGATIVE', 'score': 0.9969269633293152}, {'label': 'NEGATIVE', 'score': 0.9852342009544373}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9963189363479614}, {'label': 'NEGATIVE', 'score': 0.9911705255508423}, {'label': 'NEGATIVE', 'score': 0.9989651441574097}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9917126893997192}, {'label': 'NEGATIVE', 'score': 0.9961968660354614}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.9968037605285645}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9964765906333923}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9969757795333862}, {'label': 'NEGATIVE', 'score': 0.9970295429229736}, {'label': 'NEGATIVE', 'score': 0.9964696168899536}, {'label': 'NEGATIVE', 'score': 0.9969269633293152}, {'label': 'NEGATIVE', 'score': 0.9953988194465637}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9964380264282227}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9915714263916016}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9906561970710754}, {'label': 'NEGATIVE', 'score': 0.9995150566101074}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'POSITIVE', 'score': 0.5329098701477051}, {'label': 'POSITIVE', 'score': 0.9895817041397095}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9985538125038147}, {'label': 'NEGATIVE', 'score': 0.9961968660354614}, {'label': 'NEGATIVE', 'score': 0.9969269633293152}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9991872906684875}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.9980660080909729}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.9954225420951843}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'NEGATIVE', 'score': 0.9864445328712463}, {'label': 'NEGATIVE', 'score': 0.9992676377296448}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'POSITIVE', 'score': 0.9887265563011169}, {'label': 'NEGATIVE', 'score': 0.5565354228019714}, {'label': 'NEGATIVE', 'score': 0.8480826616287231}, {'label': 'NEGATIVE', 'score': 0.9975130558013916}, {'label': 'NEGATIVE', 'score': 0.9963189363479614}, {'label': 'NEGATIVE', 'score': 0.930199921131134}, {'label': 'POSITIVE', 'score': 0.5661442875862122}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.9984295964241028}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'NEGATIVE', 'score': 0.9969269633293152}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'NEGATIVE', 'score': 0.9992221593856812}, {'label': 'NEGATIVE', 'score': 0.9964590668678284}, {'label': 'NEGATIVE', 'score': 0.8196621537208557}, {'label': 'POSITIVE', 'score': 0.9839438199996948}, {'label': 'POSITIVE', 'score': 0.5044052004814148}, {'label': 'NEGATIVE', 'score': 0.9449267387390137}, {'label': 'NEGATIVE', 'score': 0.985461413860321}, {'label': 'P}, {'label': 'NEGATIVE', 'score': 0.9852342009544373}, {'label': 'NEGATIVE', 'score': 0.5193806886672974}, {'label': 'NEGATIVE', 'score': 0.9889017343521118}, {'label': 'POSITIVE', 'score': 0.7904432415962219}, {'label': 'NEGATIVE', 'score': 0.9975367784500122}, {'label': 'NEGATIVE', 'score': 0.9773633480072021}, {'label': 'NEGATIVE', 'score': 0.9892699122428894}, {'label': 'NEGATIVE', 'score': 0.9944003224372864}, {'label': 'NEGATIVE', 'score': 0.9946126937866211}, {'label': 'NEGATIVE', 'score': 0.9955273270606995}, {'label': 'NEGATIVE', 'score': 0.9832384586334229}, {'label': 'NEGATIVE', 'score': 0.9862732291221619}, {'label': 'NEGATIVE', 'score': 0.9938818216323853}, {'label': 'NEGATIVE', 'score': 0.9905535578727722}, {'label': 'NEGATIVE', 'score': 0.9797149300575256}, {'label': 'NEGATIVE', 'score': 0.9935897588729858}, {'label': 'NEGATIVE', 'score': 0.8812752366065979}, {'label': 'NEGATIVE', 'score': 0.9063709378242493}, {'label': 'NEGATIVE', 'score': 0.9954118132591248}, {'label': 'NEGATIVE', 'score': 0.9950072765350342}, {'label': 'POSITIVE', 'score': 0.9988747239112854}, {'label': 'NEGATIVE', 'score': 0.8157283067703247}, {'label': 'NEGATIVE', 'score': 0.9955631494522095}, {'label': 'POSITIVE', 'score': 0.993026614189148}, {'label': 'NEGATIVE', 'score': 0.9420607089996338}, {'label': 'NEGATIVE', 'score': 0.9654766917228699}]